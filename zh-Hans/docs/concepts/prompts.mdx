---
title: "提示"
description: "创建可重用的提示模板和工作流"
---

提示使服务器能够定义可重用的提示模板和工作流,客户端可以轻松地将其展示给用户和 LLMs。它们提供了一种强大的方式来标准化和共享常见的 LLM 交互。

<Note>
  提示被设计为**用户控制**,这意味着它们从服务器暴露给客户端时,用户可以明确地选择使用它们。
</Note>

## 概述

MCP 中的提示是预定义的模板,可以:
- 接受动态参数
- 包含来自资源的上下文
- 链接多个交互
- 引导特定工作流
- 作为 UI 元素显示(如斜杠命令)

## 提示结构

每个提示都定义了以下内容:

```typescript
{
  name: string;              // 提示的唯一标识符
  description?: string;      // 人类可读的描述
  arguments?: [              // 可选的参数列表
    {
      name: string;          // 参数标识符
      description?: string;  // 参数描述
      required?: boolean;    // 参数是否必需
    }
  ]
}
```

## 发现提示

客户端可以通过 `prompts/list` 端点发现可用的提示:

```typescript
// 请求
{
  method: "prompts/list"
}

// 响应
{
  prompts: [
    {
      name: "analyze-code",
      description: "分析代码以寻找潜在的改进",
      arguments: [
        {
          name: "language",
          description: "编程语言",
          required: true
        }
      ]
    }
  ]
}
```

## 最佳实践

在实现提示时:

1. 使用清晰、描述性的提示名称
2. 为提示和参数提供详细描述
3. 验证所有必需参数
4. 优雅地处理缺失参数
5. 考虑提示模板的版本控制
6. 适当缓存动态内容
7. 实现错误处理
8. 记录预期的参数格式
9. 考虑提示的可组合性
10. 使用各种输入测试提示

## UI 集成

提示可以在客户端 UI 中显示为:

- 斜杠命令
- 快速操作
- 上下文菜单项
- 命令面板条目
- 引导式工作流
- 交互式表单

## 更新和变更

服务器可以通知客户端提示变更:

1. 服务器能力: `prompts.listChanged`
2. 通知: `notifications/prompts/list_changed`
3. 客户端重新获取提示列表

## 安全考虑

在实现提示时:

- 验证所有参数
- 净化用户输入
- 考虑速率限制
- 实现访问控制
- 审计提示使用
- 适当处理敏感数据
- 验证生成的内容
- 实现超时
- 考虑提示注入风险
- 记录安全要求 