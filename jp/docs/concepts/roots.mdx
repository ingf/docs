---
title: "ルーツ"
description: "MCPにおけるルーツの理解"
---

ルーツは、サーバーが操作できる境界を定義するMCPの概念です。クライアントがサーバーに関連するリソースとその場所を通知する方法を提供します。

## ルーツとは何か？

ルーツは、クライアントがサーバーに焦点を当てるべきだと提案するURIです。クライアントがサーバーに接続するとき、どのルーツをサーバーが扱うべきかを宣言します。主にファイルシステムパスに使用されますが、ルーツはHTTP URLを含む任意の有効なURIであることができます。

例えば、ルーツは次のようになります：

```
file:///home/user/projects/myapp
https://api.example.com/v1
```

## ルーツを使用する理由

ルーツは以下の重要な目的を果たします：

1. **ガイダンス**: サーバーに関連するリソースと場所を通知します
2. **明確さ**: ルーツは、どのリソースがワークスペースの一部であるかを明確にします
3. **組織化**: 複数のルーツを使用することで、異なるリソースを同時に扱うことができます

## ルーツの仕組み

クライアントがルーツをサポートする場合：

1. 接続時に`roots`機能を宣言します
2. サーバーに提案されたルーツのリストを提供します
3. ルーツが変更されたときにサーバーに通知します（サポートされている場合）

ルーツは情報提供的であり、厳密に強制されるものではありませんが、サーバーは次のことを行うべきです：

1. 提供されたルーツを尊重する
2. ルートURIを使用してリソースを見つけてアクセスする
3. ルート境界内での操作を優先する

## 一般的な使用例

ルーツは通常、次のように定義されます：

- プロジェクトディレクトリ
- リポジトリの場所
- APIエンドポイント
- 設定の場所
- リソースの境界

## ベストプラクティス

ルーツを使用する際には：

1. 必要なリソースのみを提案する
2. ルーツに明確で説明的な名前を使用する
3. ルートのアクセス可能性を監視する
4. ルートの変更を適切に処理する

## 例

典型的なMCPクライアントがルーツを公開する方法は次のとおりです：

```json
{
  "roots": [
    {
      "uri": "file:///home/user/projects/frontend",
      "name": "フロントエンドリポジトリ"
    },
    {
      "uri": "https://api.example.com/v1",
      "name": "APIエンドポイント"
    }
  ]
}
```

この構成は、サーバーがローカルリポジトリとAPIエンドポイントの両方に焦点を当て、それらを論理的に分離していることを示唆しています。 